Plocka data från hemsida
import requests

#unicef data med api nyckel sdmx(RAW DATA)
url = "https://sdmx.data.unicef.org/ws/public/sdmxapi/rest/data/UNICEF,MNCH,1.0/.MNCH_PNEUCARE._T......?startPeriod=2014&endPeriod=2024&format=csv&labels=name"

#hämtar med requests.get
response = requests.get(url)

#kollar om requesten gick igenom och sparar csv filen
if response.status_code == 200:
   
    with open("unicef_pneumonia_data.csv", "wb") as file:
        file.write(response.content)
    print("CSV file has been downloaded successfully.")
else:
    print(f"Error: {response.status_code} - {response.text}")





import pandas as pd

# Läs in CSV-filen
df = pd.read_csv("unicef_amning_data.csv")

# Definiera en lista med länder att inkludera, i detta fall Sydostasien
countries = ['Thailand', 'Indonesia', 'Viet Nam', 'Malaysia', 'Philippines', 'Myanmar', 'Cambodia', 'Timor-Leste', "Lao People's Democratic Republic"]

# Filtrera datan för endast de länder som finns i listan
filtered_data = df[df['Geographic area'].isin(countries)]

# Välj kolumnerna vi vill behålla ('Geographic area', 'Indicator', och 'OBS_VALUE')
filtered_data = filtered_data[['Geographic area', 'Indicator', 'OBS_VALUE']]

# Gruppera data efter 'Geographic area' och 'Indicator' och beräkna medelvärdet för 'OBS_VALUE'
aggregated_data = filtered_data.groupby(['Geographic area', 'Indicator'], as_index=False)['OBS_VALUE'].mean()

# Spara det aggregerade datan till en ny CSV-fil
aggregated_data.to_csv("selected_countries_amning_data_aggregated.csv", index=False, mode='w', header=True)

print("Ny CSV-fil med medelvärde av data för varje amningspraktik i valda länder har skapats.")
